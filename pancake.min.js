var p={version:"v0.0.10"};console.info("Made with Pancake "+p.version+"\nhttps://github.com/Rabios/Pancake"),p.b={},p.b.s={},p.b.CHROME=null!=navigator.userAgent.match("Chrome"),p.b.FIREFOX=null!=navigator.userAgent.match("Firefox"),p.b.OPERA=null!=navigator.userAgent.match("OPR"),p.b.SAFARI=null!=navigator.userAgent.match("Safari"),p.b.EDGE=null!=navigator.userAgent.match("Edg"),p.b.IE=null!=navigator.userAgent.match("Trident"),p.b.MAXTHON=null!=navigator.userAgent.match("Maxthon"),p.b.SAMSUNG_INTERNET=null!=navigator.userAgent.match("SamsungBrowser"),p.b.SEAMONKEY=null!=navigator.userAgent.match("SeaMonkey"),p.b.s.CANVAS=function(){return null!=(!!document.createElement("canvas").getContext&&document.createElement("canvas").getContext("2d"))},p.b.s.MP3=function(){return""!=document.createElement("audio").canPlayType("audio/mp3")},p.b.s.MPEG=function(){return""!=document.createElement("audio").canPlayType("audio/mpeg")},p.b.s.MP4=function(){return""!=document.createElement("video").canPlayType("video/mp4")},p.b.s.OGG=function(){return""!=document.createElement("audio").canPlayType("audio/ogg")},p.b.s.WAV=function(){return""!=document.createElement("audio").canPlayType("audio/wav")},p.b.s.WEBM=function(){return""!=document.createElement("video").canPlayType("video/webm")},p.b.s.GAMEPAD=function(){return"getGamepads"in window.navigator},p.b.open=function(e){window.open(e)},p.o={},p.o.iOS=null!=navigator.userAgent.match(/iPhone|iPad|iPod|Apple-iPhone/i),p.o.ANDROID=null!=navigator.userAgent.match(/Android/i),p.o.OSX=null!=navigator.userAgent.match(/Macintosh|Intel Mac OS X/i),p.o.WINDOWS=null!=navigator.userAgent.match(/Windows|Windows NT/i),p.o.WINDOWS_PHONE=null!=navigator.userAgent.match(/Windows Phone/i),p.o.LINUX=null!=navigator.userAgent.match(/Linux|X11/i),p.o.UBUNTU=null!=navigator.userAgent.match(/Ubuntu/i),p.o.PLAYSTATION=null!=navigator.userAgent.match(/PlayStation/i),p.o.XBOX=null!=navigator.userAgent.match(/Xbox|XBOX_ONE_ED|Xbox One/i),p.o.BLACKBERRY=null!=navigator.userAgent.match(/Blackberry|BB/i),p.o.CHROMECAST=null!=navigator.userAgent.match(/CrKey/i),p.o.CHROME_OS=null!=navigator.userAgent.match(/CrOS/i),p.o.PS4=null!=navigator.userAgent.match(/PlayStation 4/i),p.o.PSVITA=null!=navigator.userAgent.match(/PlayStation Vita/i),p.o.XBOX_ONE=null!=navigator.userAgent.match(/Xbox One/i),p.o.XBOX_ONE_S=null!=navigator.userAgent.match(/XBOX_ONE_ED/i),p.o.NINTENDO=null!=navigator.userAgent.match(/Nintendo/i),p.o.N3DS=null!=navigator.userAgent.match(/Nintendo 3DS/i),p.o.WII_U=null!=navigator.userAgent.match(/Nintendo WiiU/i),p.o.FIRE_TV=null!=navigator.userAgent.match(/AFTS/i),p.o.ROKU_ULTRA=null!=navigator.userAgent.match(/Roku4640X/i),p.o.ROKU=null!=navigator.userAgent.match(/Roku/i),p.o.NEXUS_PLAYER=null!=navigator.userAgent.match(/Nexus Player/i),p.o.MINIX_NEO_X5=null!=navigator.userAgent.match(/NEO-X5/i),p.o.APPLE_TV=null!=navigator.userAgent.match(/AppleTV/i),p.o.KINDLE=null!=navigator.userAgent.match(/Kindle/i),p.u={},p.u.random=function(e){return Math.floor(Math.random()*e)},p.u.randomBetween=function(e,t){return Math.floor(Math.random()*(t-e))+e},p.u.quote=function(e){return JSON.stringify(e)},p.d={},p.d.unknown=function(e){return null==e||null==e||NaN==e},p.d.redefine=function(e,t){null!=e&&null!=e&&NaN!=e||(e=t)},p.d.type=function(e){return typeof e},p.ga={},p.ga.title=function(e){window.document.title=e},p.ga.restart=function(){window.location.reload()},p.can={},p.canvases=[],p.can.compatible_width=window.innerWidth-20,p.can.compatible_height=window.innerHeight-20,p.can.create=function(e,t,n){p.canvases[n]=document.createElement("canvas"),p.canvases[n].width=e,p.canvases[n].height=t,document.body.appendChild(p.canvases[n])},p.can.resize=function(e,t,n){p.canvases[n].width=e,p.canvases[n].height=t},p.can.setAttribute=function(e,t,n){window.eval(" p.canvases["+n.toString()+"]."+e.toString()+" = "+t.toString()+"; ")},p.can.remove=function(e){p.canvases[e].parentNode.removeChild(p.canvases[e])},p.can.hide=function(e){p.canvases[e].style.visibility="hidden"},p.can.show=function(e){p.canvases[e].style.visibility="visible"},p.can.set=function(e,t){p.canvases[t]=e},p.con={},p.contexts=[],p.con.create=function(e,t){p.contexts[t]=p.canvases[e].getContext("2d")},p.con.use=function(e,t){p.contexts[t]=canvas.getContext("2d"),p.g.useContext(t),p.can.set(e,t)},p.con.set=function(e,t){p.contexts[t]=e},p.de={},p.de.screen_height=screen.height,p.de.screen_width=screen.width,p.de.vibrate=function(e){window.navigator.vibrate(e)},p.de.stopVibrating=function(){window.navigator.vibrate(0)},p.i={},p.i.latest_key_down=-1,p.i.latest_key_up=-1,p.i.latest_key_pressed=-1,p.i.latest_mouse_button_down=-1,p.i.latest_mouse_button_up=-1,p.i.click=!1,p.i.touchdown=!1,p.i.tap=!1,p.i.mouse_x=0,p.i.mouse_y=0,p.i.touch_x=0,p.i.touch_y=0,p.i.touch_start_time=0,p.i.swipe_start_x=0,p.i.swipe_start_y=0,p.i.HORIZONTAL_SWIPE_DIRECTION="",p.i.VERTICAL_SWIPE_DIRECTION="",window.addEventListener("mousedown",(function(e){p.i.swipe_start_x=e.clientX||e.pageX,p.i.swipe_start_y=e.clientY||e.pageY,p.i.touch_start_time=(new Date).getTime()})),window.addEventListener("mouseup",(function(e){p.i.mouse_x=e.clientX||e.pageX,p.i.mouse_y=e.clientY||e.pageY;var t=(e.clientX||e.pageX)-p.i.swipe_start_x,n=(e.clientY||e.pageY)-p.i.swipe_start_y;(new Date).getTime()-p.i.touch_start_time<=1e3&&(Math.abs(t)>=100&&Math.abs(n)<=300?p.i.VERTICAL_SWIPE_DIRECTION=t<0?"LEFT":"RIGHT":Math.abs(n)>=100&&Math.abs(t)<=300&&(p.i.HORIZONTAL_SWIPE_DIRECTION=n<0?"UP":"DOWN"))})),window.addEventListener("mousemove",(function(e){p.i.mouse_x=e.clientX||e.pageX,p.i.mouse_y=e.clientY||e.pageY})),window.addEventListener("touchstart",(function(e){p.i.touch_x=e.changedTouches[0].clientX||e.changedTouches[0].pageX,p.i.touch_y=e.changedTouches[0].clientY||e.changedTouches[0].pageY,p.i.swipe_start_x=e.changedTouches[0].pageX,p.i.swipe_start_y=e.changedTouches[0].pageY,p.i.tap=!0,p.i.touch_start_time=(new Date).getTime(),e.preventDefault()}),!1),window.addEventListener("touchend",(function(e){p.i.touch_x=e.changedTouches[0].clientX||e.changedTouches[0].pageX,p.i.touch_y=e.changedTouches[0].clientY||e.changedTouches[0].pageY;var t=e.changedTouches[0].pageX-p.i.swipe_start_x,n=e.changedTouches[0].pageY-p.i.swipe_start_y;(new Date).getTime()-p.i.touch_start_time<=1e3&&(Math.abs(t)>=100&&Math.abs(n)<=300?p.i.VERTICAL_SWIPE_DIRECTION=t<0?"LEFT":"RIGHT":Math.abs(n)>=100&&Math.abs(t)<=300&&(p.i.HORIZONTAL_SWIPE_DIRECTION=n<0?"UP":"DOWN",e.preventDefault())),p.i.tap=!0,e.preventDefault()}),!1),window.addEventListener("touchcancel",(function(e){p.i.tap=!1,e.preventDefault()}),!1),window.addEventListener("touchmove",(function(e){p.i.touch_x=e.changedTouches[0].clientX||e.changedTouches[0].pageX,p.i.touch_y=e.changedTouches[0].clientY||e.changedTouches[0].pageY,p.i.touchdown=!0,e.preventDefault()}),!1),window.addEventListener("click",(function(){p.i.click=!0})),window.addEventListener("mousedown",(function(e){p.i.latest_mouse_button_down=e.button,p.i.click=!1})),window.addEventListener("mouseup",(function(e){p.i.latest_mouse_button_up=e.button,p.i.click=!1})),window.addEventListener("keydown",(function(e){p.i.latest_key_down=e.which||e.keyCode})),window.addEventListener("keyup",(function(e){p.i.latest_key_up=e.which||e.keyCode})),window.addEventListener("keypress",(function(e){p.i.latest_key_pressed=e.which||e.keyCode})),p.i.mousedown=function(e){return p.i.latest_mouse_button_down==e},p.i.mouseup=function(e){return p.i.latest_mouse_button_up==e},p.i.swipe=function(e){return p.i.HORIZONTAL_SWIPE_DIRECTION==e||p.i.VERTICAL_SWIPE_DIRECTION==e},p.i.keydown=function(e){return p.i.latest_key_down==e},p.i.keyup=function(e){return p.i.latest_key_up==e},p.i.keypress=function(e){return p.i.latest_key_pressed==e},p.i.hideCursor=function(e){pancake.canvases[e].style.cursor="none"},p.i.showCursor=function(e){pancake.canvases[e].style.cursor="auto"},p.i.lockPointer=function(){pancake.graphics.context.canvas.requestPointerLock&&pancake.graphics.context.canvas.requestPointerLock(),document.pointerLockElement===pancake.graphics.context.canvas&&pancake.graphics.context.canvas.requestPointerLock()},p.i.unlockPointer=function(){document.exitPointerLock()},p.b.s.GAMEPAD()&&(p.i.GAMEPAD_MOVE_HORIZONTAL_DIRECTION="",p.i.GAMEPAD_MOVE_VERTICAL_DIRECTION="",p.i.GAMEPAD_CAMERA_HORIZONTAL_DIRECTION="",p.i.GAMEPAD_CAMERA_VERTICAL_DIRECTION="",p.i.GAMEPAD_ANALOG_UP=-.3,p.i.GAMEPAD_ANALOG_DOWN=.3,p.i.GAMEPAD_ANALOG_LEFT=.3,p.i.GAMEPAD_ANALOG_RIGHT=-.3,p.i.GAMEPAD_MOVE_ANALOG=1,p.i.GAMEPAD_CAMERA_ANALOG=2,p.i.gamepadConnected=function(e){return!(null==navigator.getGamepads()[e])},p.i.gamepadID=function(e){if(null!=navigator.getGamepads()[e])return navigator.getGamepads()[e].id},p.i.gamepadButtonPressed=function(e,t){if(null!=navigator.getGamepads()[t])return navigator.getGamepads()[t].buttons[e].pressed},p.i.gamepadButtonTouched=function(e,t){if(null!=navigator.getGamepads()[t])return navigator.getGamepads()[t].buttons[e].touched},p.i.checkMovement=function(e,t,n){null!=navigator.getGamepads()[e]&&(t==p.i.GAMEPAD_MOVE_ANALOG&&(navigator.getGamepads()[e].axes[1]<=n&&(p.i.GAMEPAD_MOVE_HORIZONTAL_DIRECTION="UP"),navigator.getGamepads()[e].axes[1]>=n&&(p.i.GAMEPAD_MOVE_HORIZONTAL_DIRECTION="DOWN"),navigator.getGamepads()[e].axes[0]<=n&&(p.i.GAMEPAD_MOVE_VERTICAL_DIRECTION="LEFT"),navigator.getGamepads()[e].axes[0]>=n&&(p.i.GAMEPAD_MOVE_VERTICAL_DIRECTION="RIGHT")),t==p.i.GAMEPAD_CAMERA_ANALOG&&(navigator.getGamepads()[e].axes[3]<=n&&(p.i.GAMEPAD_CAMERA_HORIZONTAL_DIRECTION="UP"),navigator.getGamepads()[e].axes[3]>=n&&(p.i.GAMEPAD_CAMERA_HORIZONTAL_DIRECTION="DOWN"),navigator.getGamepads()[e].axes[2]<=n&&(p.i.GAMEPAD_CAMERA_HORIZONTAL_DIRECTION="LEFT"),navigator.getGamepads()[e].axes[2]>=n&&(p.i.GAMEPAD_CAMERA_HORIZONTAL_DIRECTION="RIGHT")))},p.i.gamepadAnalogMoved=function(e,t,n,o){return p.i.checkMovement(e,t,n),t==p.i.GAMEPAD_MOVE_ANALOG?p.i.GAMEPAD_MOVE_HORIZONTAL_DIRECTION==o||p.i.GAMEPAD_MOVE_VERTICAL_DIRECTION==o:t==p.i.GAMEPAD_CAMERA_ANALOG?p.i.GAMEPAD_CAMERA_HORIZONTAL_DIRECTION==o||p.i.GAMEPAD_CAMERA_VERTICAL_DIRECTION==o:void 0}),p.i.preventLoop=function(){p.i.latest_key_down=-1,p.i.latest_key_up=-1,p.i.latest_key_pressed=-1,p.i.latest_mouse_button_down=-1,p.i.latest_mouse_button_up=-1,p.i.click=!1,p.i.tap=!1,p.i.touchdown=!1,p.i.HORIZONTAL_SWIPE_DIRECTION="",p.i.VERTICAL_SWIPE_DIRECTION="",pancake.browser.support.GAMEPAD()&&(p.i.GAMEPAD_MOVE_HORIZONTAL_DIRECTION="",p.i.GAMEPAD_MOVE_VERTICAL_DIRECTION="",p.i.GAMEPAD_CAMERA_HORIZONTAL_DIRECTION="",p.i.GAMEPAD_CAMERA_VERTICAL_DIRECTION="")},p.i.key={A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,UP:38,DOWN:40,LEFT:37,RIGHT:39,SPACE:32,TAB:9,SHIFT:16,CONTROL:17,ALT:18,BACKSPACE:8,ENTER:13,NUMLOCK:144,OS:91,UNIDENTIFIED:0,HOME:36,PGUP:33,PGDN:34,CLEAR:12,DELETE:46,ESCAPE:27,INSERT:45},p.i.button={LEFT_MOUSE_BUTTON:0,RIGHT_MOUSE_BUTTON:2,MIDDLE_MOUSE_BUTTON:1,A:0,B:1,XBOX_X:2,Y:3,LB:4,RB:5,LT:6,RT:7,BACK:8,START:9,LEFT_ANALOG_STICK:10,RIGHT_ANALOG_STICK:11,UP:12,DOWN:13,LEFT:14,RIGHT:15,PLAYSTATION_X:0,O:1,SQUARE:2,TRIANGLE:3,L1:4,R1:5,L2:6,R2:7,SELECT:8},p.p={},p.p.distance_x=void 0,p.p.distance_y=void 0,p.p.checkCollisionRect=function(e,t,n,o,a,p,i,c){return e<a+i&&e+n>a&&t<p+c&&t+o>p},p.p.checkCollisionCircle=function(e,t,n,o,a,p){return Math.sqrt(e-o*e-o+(t+a*t+a))<n+p},p.p.checkCollisionCircleRect=function(e,t,n,o,a,p,i){return!(Math.abs(e-o-p/2)>p/2+n||Math.abs(t-a-i/2)>i/2+n)&&(Math.abs(e-o-p/2)<=p/2||Math.abs(t-a-i/2)<=i/2||Math.abs(e-o-p/2)-p/2*Math.abs(e-o-p/2)-p/2+Math.abs(t-a-i/2)-i/2*Math.abs(t-a-i/2)-i/2<=Math.pow(n,2))},p.p.checkCollisionCircleLine=function(e,t,n,o,a,p,i){var c=((e-o)*(p-o)+(t-a)*(i-a))/((i-a)*(i-a)+(p-o)*(p-o));if((c>=0&&c<=1?Math.pow(o+(p-o)*c-e,2)+Math.pow(a+(i-a)*c-t,2):c<0?Math.pow(o-e,2)+Math.pow(a-t,2):Math.pow(p-e,2)+Math.pow(i-t,2))<Math.pow(n,2))return!0},p.p.checkCollisionLeftCanvas=function(e){return 4==e.length?e[0]<=.5*e[2]:5==e.length?e[0]+e[3]<e[2]:void 0},p.p.checkCollisionRightCanvas=function(e,t){return 4==e.length?e[0]+e[2]>=p.canvases[t].width+.5*e[2]:5==e.length?e[0]+e[3]>p.canvases[t].width-e[2]:void 0},p.p.checkCollisionTopCanvas=function(e){return 4==e.length?e[1]<=.5*e[3]:5==e.length?e[1]+e[4]<e[2]:void 0},p.p.checkCollisionBottomCanvas=function(e,t){return 4==e.length?e[1]+e[3]>=p.canvases[t].height+.5*e[3]:5==e.length?e[1]+e[4]>p.canvases[t].height-e[2]:void 0},p.p.distanceBetween=function(e,t,n,o){return Math.hypot(n-e,o-t)},p.p.getDistance=function(e,t,n,o){p.p.distance_x=n-e,p.p.distance_y=o-t},p.sp={},p.sprites=[],p.sp.timers=[],p.sp.create=function(e,t){p.sprites[t]=[],p.sp.timers[t]=0;for(var n=0;n<e.length;n++)p.sprites[t][n]=new Image,p.sprites[t][n].src=e[n]},p.sp.get=function(e){return p.sprites[e]},p.g={},p.g.r={},p.images=[],p.g.FILL="fill",p.g.STROKE="line",p.g.BOTH="both",p.g.ANTIALIASING_LOW="low",p.g.ANTIALIASING_MEDIUM="medium",p.g.ANTIALIASING_HIGH="high",p.g.context=void 0,p.g.mode=p.g.FILL,p.g.r.alpha=function(){return pancake.util.random(1)},p.g.r.RGB=function(){return("rgb("+pancake.util.random(255)+","+pancake.util.random(255)+","+pancake.util.random(255)+")").toString()},p.g.r.RGBA=function(){return("rgba("+pancake.util.random(255)+","+pancake.util.random(255)+","+pancake.util.random(255)+","+pancake.util.random(255)+")").toString()},p.g.r.HSL=function(){return("hsl("+pancake.util.random(360)+","+pancake.util.random(100)+"%,"+pancake.util.random(100)+"%)").toString()},p.g.r.HSLA=function(){return("hsla("+pancake.util.random(360)+","+pancake.util.random(100)+"%,"+pancake.util.random(100)+"%,"+Math.random()+")").toString()},p.g.fullscreen=function(){return document.fullscreen||document.webkitIsFullScreen||document.mozFullscreen},p.g.toggleFullscreen=function(){var e=p.g.context.canvas;e.requestFullscreen&&e.requestFullscreen(),e.mozRequestFullScreen&&e.mozRequestFullScreen(),e.webkitRequestFullscreen&&e.webkitRequestFullscreen(),e.msRequestFullscreen&&e.msRequestFullscreen()},p.g.exitFullscreen=function(){document.exitFullscreen&&document.exitFullscreen(),document.mozCancelFullScreen&&document.mozCancelFullScreen(),document.webkitExitFullscreen&&document.webkitExitFullscreen(),document.msExitFullscreen&&document.msExitFullscreen(),p.g.context.canvas.width=pancake.canvas.compatible_width,p.g.context.canvas.height=pancake.canvas.compatible_height},p.g.useContext=function(e){p.g.context=pancake.contexts[e]},p.g.setAlpha=function(e){p.g.context.globalAlpha=e},p.g.setLineWidth=function(e){p.g.context.lineWidth=e},p.g.RGB=function(e,t,n){return"rgb("+e+","+t+","+n+")"},p.g.RGBA=function(e,t,n,o){return"rgb("+e+","+t+","+n+","+o+")"},p.g.HSL=function(e,t,n){return"hsl("+e+","+t+"%,"+n+"%)"},p.g.HSLA=function(e,t,n,o){return"hsla("+e+","+t+"%,"+n+"%,"+o+")"},p.g.HEX=function(e){return("#"+e).toString()},p.g.color=function(e,t){pancake.debug.unknown(t)&&(t="black"),p.g.context.fillStyle=e,p.g.context.strokeStyle=t},p.g.setBackgroundColor=function(e){p.g.context.canvas.style.backgroundColor=e},p.g.setBackgroundImage=function(e){p.g.context.canvas.style.backgroundImage="url("+e+")",p.g.context.canvas.style.backgroundSize=p.g.context.canvas.width+"px "+p.g.context.canvas.height+"px"},p.g.setFont=function(e,t){p.g.context.font=(t+"px "+e).toString()},p.g.setTextAlignment=function(e){p.g.context.textAlign=e},p.g.clear=function(){p.g.context.clearRect(0,0,p.g.context.canvas.width,p.g.context.canvas.height)},p.g.text=function(e,t,n){p.g.mode==p.g.FILL&&p.g.context.fillText(e,t,n),p.g.mode==p.g.STROKE&&p.g.context.strokeText(e,t,n),p.g.mode==p.g.BOTH&&(p.g.context.fillText(e,t,n),p.g.context.strokeText(e,t,n))},p.g.rect=function(e,t,n,o){p.g.mode==p.g.FILL&&p.g.context.fillRect(e,t,n,o),p.g.mode==p.g.STROKE&&p.g.context.strokeRect(e,t,n,o),p.g.mode==p.g.BOTH&&(p.g.context.fillRect(e,t,n,o),p.g.context.strokeRect(e,t,n,o))},p.g.roundedRect=function(e,t,n,o,a){p.g.context.beginPath(),p.g.context.moveTo(e+a,t),p.g.context.lineTo(e+n-a,t),p.g.context.quadraticCurveTo(e+n,t,e+n,t+a),p.g.context.lineTo(e+n,t+o-a),p.g.context.quadraticCurveTo(e+n,t+o,e+n-a,t+o),p.g.context.lineTo(e+a,t+o),p.g.context.quadraticCurveTo(e,t+o,e,t+o-a),p.g.context.lineTo(e,t+a),p.g.context.quadraticCurveTo(e,t,e+a,t),p.g.context.closePath(),p.g.mode==p.g.FILL&&p.g.context.fill(),p.g.mode==p.g.STROKE&&p.g.context.stroke(),p.g.mode==p.g.BOTH&&(p.g.context.fill(),p.g.context.stroke())},p.g.circle=function(e,t,n){p.g.context.beginPath(),p.g.context.arc(e,t,n,90,180*Math.PI),p.g.context.closePath(),p.g.mode==p.g.FILL&&p.g.context.fill(),p.g.mode==p.g.STROKE&&p.g.context.stroke(),p.g.mode==p.g.BOTH&&(p.g.context.fill(),p.g.context.stroke())},p.g.ellipse=function(e,t,n,o,a,i,c,s){p.g.context.beginPath(),p.g.context.ellipse(e,t,n,o,a,i,c,s),p.g.context.closePath(),p.g.mode==p.g.FILL&&p.g.context.fill(),p.g.mode==p.g.STROKE&&p.g.context.stroke(),p.g.mode==p.g.BOTH&&(p.g.context.fill(),p.g.context.stroke())},p.g.line=function(e,t,n,o,a){p.g.context.lineWidth=a,p.g.context.beginPath(),p.g.context.moveTo(e,t),p.g.context.lineTo(n,o),p.g.context.closePath(),p.g.context.stroke(),p.g.context.lineWidth=1},p.g.triangle=function(e,t,n,o,a,i,c){p.g.context.lineWidth=c,p.g.context.beginPath(),p.g.context.moveTo(e,t),p.g.context.lineTo(n,o),p.g.context.lineTo(a,i),p.g.context.lineTo(e,t),p.g.context.closePath(),p.g.mode==p.g.FILL&&p.g.context.fill(),p.g.mode==p.g.STROKE&&p.g.context.stroke(),p.g.mode==p.g.BOTH&&(p.g.context.fill(),p.g.context.stroke()),p.g.context.lineWidth=1},p.g.polygon=function(e){p.g.context.beginPath(),p.g.context.moveTo(e[0][0],e[0][1]);for(var t=0;t<e.length;t++)p.g.context.lineTo(e[t][0],e[t][1]);p.g.context.closePath(),p.g.mode==p.g.FILL&&p.g.fill(),p.g.mode==p.g.STROKE&&p.g.context.stroke(),p.g.mode==p.g.BOTH&&(p.g.context.fill(),p.g.context.stroke())},p.g.loadImage=function(e,t){p.images[t]=new Image,p.images[t].src=e},p.g.loadImageFromDocument=function(e,t){p.images[t]=new Image,p.images[t].src=e.src},p.g.image=function(e,t,n,o,a){p.g.context.drawImage(e,t,n,o,a)},p.g.imageFromIndex=function(e,t,n,o,a){p.g.context.drawImage(p.images[e],t,n,o,a)},p.g.useFilters=function(e,t){for(var n=0;n<e.length;n++)p.g.context.canvas.style.filter+=(" "+e[n]+"("+t[n]+") ").toString()},p.g.addFilter=function(e,t){p.g.content.canvas.style.filter+=(" "+e+"("+t+") ").toString()},p.g.clearFilters=function(){p.g.context.canvas.style.filter="none"},p.g.erase=function(e,t,n,o){p.g.context.clearRect(e,t,n,o)},p.g.canvasToImage=function(e){return pancake.debug.unknown(e)&&(e=0),pancake.canvases[e].toDataURL()},p.g.screenshot=function(e){pancake.debug.unknown(e)&&(e=0),window.open(pancake.canvases[e].toDataURL())},p.g.square=function(e,t,n){p.g.mode==p.g.FILL&&p.g.context.fillRect(e,t,n,n),p.g.mode==p.g.STROKE&&p.g.context.strokeRect(e,t,n,n),p.g.mode==p.g.BOTH&&(p.g.context.fillRect(e,t,n,n),p.g.context.strokeRect(e,t,n,n))},p.g.pixel=function(e,t){p.g.context.fillRect(e,t,1,1)},p.g.point=function(e,t){p.g.context.fillCircle(e,t,1)},p.g.gradientRect=function(e,t,n,o,a){for(var i=p.g.context.createLinearGradient(e,t,n,o),c=0;c<a.length;c++)i.addColorStop(a[c][0],a[c][1]);p.g.color(i,i),p.g.mode==p.g.FILL&&p.g.context.fillRect(e,t,n,o),p.g.mode==p.g.STROKE&&p.g.context.strokeRect(e,t,n,o),p.g.mode==p.g.BOTH&&(p.g.context.fillRect(e,t,n,o),p.g.context.strokeRect(e,t,n,o))},p.g.grid=function(e){for(var t=p.g.context.canvas.width/e,n=p.g.context.canvas.height/e,o=0,a=0,i=0;i<n;i++){for(z=0;z<t;z++)p.g.context.strokeRect(o,a,e,e),p.g.context.strokeRect(o+e,a,e,e),o+=e;o=0,a+=e}},p.g.setAntialiasing=function(e,t){p.g.context.imageSmoothingEnabled=e,p.g.context.imageSmoothingQuality=t},p.g.setContext=function(e,t){p.g.context=e,pancake.context.set(e,t)},p.g.translate=function(e,t){p.g.context.translate(e,t)},p.g.rotate=function(e){p.g.context.rotate(e)},p.g.scale=function(e,t){p.g.context.scale(e,t)},p.g.shear=function(e,t){p.g.context.transform(1,e,t,1,0,0)},p.g.save=function(){p.g.context.save()},p.g.restore=function(){p.g.context.restore()},document.onfullscreenchange=document.onmozfullscreenchange=document.onmsfullscreenchange=document.onwebkitfullscreenchange=function(){p.g.fullscreen()&&null!=typeof p.g.context.canvas&&(p.g.context.canvas.width=screen.width,p.g.context.canvas.height=screen.height),p.g.fullscreen()||null==typeof p.g.context.canvas||(p.g.context.canvas.width=pancake.canvas.compatible_width,p.g.context.canvas.height=pancake.canvas.compatible_height)},p.g.shadow=function(e,t){p.g.context.shadowColor=e,p.g.context.shadowBlur=t},p.a={},p.audio_files=[];var _audio=void 0;p.a.play=function(e){_audio=new Audio(e).play()},p.a.load=function(e,t){p.audio_files[t]=new Audio(e),p.audio_files[t].loop=!1,p.audio_files[t].load()},p.a.playFromIndex=function(e){p.audio_files[e].play(),p.audio_files[e].loop&&p.audio_files[e].play()},p.a.pauseFromIndex=function(e){p.audio_files[e].pause()},p.a.setVolumeFromIndex=function(e,t){p.audio_files[t].volume=e},p.a.setMuteFromIndex=function(e,t){p.audio_files[t].muted=e},p.a.setLoopFromIndex=function(e,t){p.audio_files[t].loop=e},p.a.finishedPlayingFromIndex=function(e){return p.audio_files[e].ended},p.v={},p.videos=[];var _video=void 0;p.v.load=function(e,t){p.videos[t]=document.createElement("video"),p.videos[t].src=e,p.videos[t].autoplay=!0,p.videos[t].loop=!1,p.videos[t].load()},p.v.play=function(e,t,n,o,a){pancake.debug.unknown(t)&&(t=0),pancake.debug.unknown(n)&&(n=0),pancake.debug.unknown(o)&&(o=pancake.graphics.context.canvas.width),pancake.debug.unknown(a)&&(a=pancake.graphics.context.canvas.height),p.videos[e].ended||(pancake.graphics.image(p.videos[e],t,n,o,a),p.videos[e].play(),p.videos[e].loop&&(pancake.graphics.image(p.videos[e],t,n,o,a),p.videos[e].play()))},p.v.pause=function(e){p.videos[e].pause()},p.v.setVolume=function(e,t){p.videos[t].volume=e},p.v.setMute=function(e,t){p.videos[t].muted=e},p.v.setLoop=function(e,t){p.videos[t].loop=e},p.v.finished=function(e){return p.videos[e].ended},p.s={},p.scripts=[],p.s.eval=function(e){window.eval(e)},p.s.load=function(e,t){p.scripts[t]=document.createElement("script"),p.scripts[t].src=e,p.scripts[t].type="text/javascript",p.scripts[t].defer=!0,document.body.appendChild(p.scripts[t])},p.st={},p.st.save=function(e,t){window.localStorage.setItem(e,t)},p.st.load=function(e){return window.localStorage.getItem(e)},p.st.remove=function(e){window.localStorage.removeItem(e)},p.st.clear=function(){window.localStorage.clear()},p.t={},p.t.second=80,p.t.countdown=function(e,t){return window.setTimeout(e,t)},p.t.timer=function(e,t){return window.setInterval(e,1e3/t)},p.t.pause=function(e){window.clearInterval(e)},window.animate=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame||function(e,t){window.setTimeout(e,1e3/t)},p.c={},p.c.load=function(e){return JSON.parse(JSON.stringify(e))};var pancake=p;pancake.audio=p.a,pancake.canvas=p.can,pancake.context=p.con,pancake.game=p.ga,pancake.graphics=p.g,pancake.graphics.random=p.g.r,pancake.browser=p.b,pancake.browser.support=p.b.s,pancake.content=pancake.c,pancake.debug=p.d,pancake.device=p.de,pancake.input=p.i,pancake.os=p.o,pancake.physics=p.p,pancake.script=p.s,pancake.sprite=p.sp,pancake.storage=p.st,pancake.timers=p.t,pancake.util=p.u,pancake.video=p.v;